<!--TODO: back button-->

<h1>Peer Review</h1>
<p>{{$parent.assignment.description}}</p>

<br/>

<form name="peerReview" ng-submit="save()">
    <div class="form-group">
        <label for="title">Title:</label>
        <input type="text" class="form-control" id="title" ng-model="assignment.description" required>
    </div>
    <div class="dropdown">
        <label for="type">Type:</label>
        <select id="type" ng-model="assignment.type" ng-options="typeOption for typeOption in typeOptions"></select>
    </div>
    <div class="form-group">
        <label for="instructions">Instructions:</label>
        <textarea class="form-control" id="instructions" ng-model="assignment.instructions">
            {{assignment.instructions}}
        </textarea>
    </div>
    <div class="form-group">
        <label for="due-date">Due date:</label>

        <div class="row" id="due-date">
            <div class="col-md-6">
                <p class="input-group">
                    <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="dt" is-open="opened"
                           min-date="minDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)"
                           ng-required="true" close-text="Close"/>
              <span class="input-group-btn">
                <button type="button" class="btn btn-default" ng-click="open($event)"><i
                        class="glyphicon glyphicon-calendar"></i></button>
              </span>
                </p>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label>
            <input type="checkbox" ng-model="assignment.allowResub"/> Accept resubmissions
        </label>
    </div>
    <div class="form-group">
        <label>
            <input type="checkbox" ng-model="assignment.allowLate"/> Accept late submissions
        </label>
    </div>
    <div class="form-group">
        <label>
            <input type="checkbox" ng-model="assignment.visible"/> Visible
        </label>
    </div>

    <table>
        <tr>
            <th>Label</th>
            <th>Remove</th>
            <th>Feedback</th>
        </tr>
        <tr ng-repeat="item in rubric">
            <td>{{item.question}}</td>
            <td><input type="checkbox" ng-model="item.remove"/></td>
        </tr>
    </table>

    <button type="submit" ng-click="save()">Save changes</button>
</form>
